<!DOCTYPE html>
<html lang="ur">
<head>
  <meta charset="UTF-8">
  <title>ایڈمن ڈیش بورڈ - AlphaMed</title>
  <link rel="stylesheet" href="style.css" />
  <style>
    body {
      background-color: #f0f8ff;
      font-family: sans-serif;
      direction: rtl;
      text-align: center;
      padding: 40px 20px;
    }

    h1 {
      color: #003366;
      margin-bottom: 20px;
    }

    .btn {
      display: inline-block;
      margin: 10px;
      padding: 12px 20px;
      background-color: #003366;
      color: white;
      border: none;
      border-radius: 6px;
      font-size: 16px;
      text-decoration: none;
      cursor: pointer;
    }

    .btn:hover {
      background-color: #002244;
    }

    .section {
      background: white;
      padding: 20px;
      margin-top: 30px;
      border-radius: 10px;
      box-shadow: 0 0 8px rgba(0,0,0,0.1);
      max-width: 500px;
      margin-left: auto;
      margin-right: auto;
    }

    input {
      width: 100%;
      padding: 10px;
      margin: 10px 0;
      font-size: 16px;
      border-radius: 5px;
      border: 1px solid #ccc;
    }

    select {
      width: 100%;
      padding: 10px;
      font-size: 16px;
      border-radius: 5px;
      border: 1px solid #ccc;
      margin-bottom: 10px;
    }
  </style>
</head>
<body>

  <h1>ایڈمن ڈیش بورڈ</h1>

  <!-- Quick Links -->
  <a href="reception.html" class="btn">مریض رجسٹر کریں</a>
  <a href="technician.html" class="btn">رپورٹ شامل کریں</a>
  <button onclick="logout()" class="btn">لاگ آؤٹ</button>

  <!-- User Add Section -->
  <div class="section">
    <h3>نیا صارف شامل کریں</h3>
    <select id="role">
      <option value="technician">ٹیکنیشن</option>
      <option value="reception">ریسپشن</option>
    </select>
    <input type="text" id="cnic" placeholder="شناختی کارڈ نمبر (CNIC)" />
    <input type="password" id="password" placeholder="پاس ورڈ" />
    <button class="btn" onclick="addUser()">صارف شامل کریں</button>
  </div>

  <div class="section">
    <h3>تمام صارفین</h3>
    <ul id="userList"></ul>
  </div>

  <script>
    const userList = document.getElementById("userList");
    const users = JSON.parse(localStorage.getItem("users") || "[]");

    function renderUsers() {
      userList.innerHTML = "";
      users.forEach(u => {
        const li = document.createElement("li");
        li.textContent = `${u.role.toUpperCase()} – ${u.cnic}`;
        userList.appendChild(li);
      });
    }

    function addUser() {
      const cnic = document.getElementById("cnic").value.trim();
      const password = document.getElementById("password").value.trim();
      const role = document.getElementById("role").value;

      if (!cnic || !password) {
        alert("تمام فیلڈز لازمی ہیں");
        return;
      }

      if (users.find(u => u.cnic === cnic)) {
        alert("یہ CNIC پہلے سے موجود ہے");
        return;
      }

      users.push({ cnic, password, role });
      localStorage.setItem("users", JSON.stringify(users));
      alert("نیا صارف شامل ہو گیا ✅");
      renderUsers();
    }

    function logout() {
      sessionStorage.removeItem("loggedInUser");
      window.location.href = "login.html";
    }

    renderUsers();
  </script>

</body>
</html>
