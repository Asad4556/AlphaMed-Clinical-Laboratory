<script>
  function loginUser(role) {
    const cnic = document.getElementById("cnic").value.trim();
    const password = document.getElementById("password").value.trim();

    if (!cnic || !password) {
      alert("Please enter CNIC and Password.");
      return;
    }

    // Get all users from localStorage
    const users = JSON.parse(localStorage.getItem("users")) || [];

    // Find the matching user
    const user = users.find(u => u.cnic === cnic && u.password === password && u.role.toLowerCase() === role.toLowerCase());

    if (!user) {
      alert("Invalid CNIC, Password or Role!");
      return;
    }

    // Store session
    localStorage.setItem("loggedInUser", JSON.stringify(user));
    localStorage.setItem("loggedInRole", role.toLowerCase());

    // Redirect based on role
    if (role.toLowerCase() === "admin") {
      window.location.href = "admin-dashboard.html";
    } else if (role.toLowerCase() === "technician") {
      window.location.href = "technician_dashboard.html";
    } else if (role.toLowerCase() === "reception") {
      window.location.href = "reception_dashboard.html";
    } else {
      alert("Unknown role!");
    }
  }
</script>
