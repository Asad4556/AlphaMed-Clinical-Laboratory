<!DOCTYPE html>
<html lang="ur">
<head>
  <meta charset="UTF-8">
  <title>ریسیپشن ڈیش بورڈ</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body class="bg-gray-50 p-6 text-gray-900">
  <div class="max-w-6xl mx-auto">
    <h1 class="text-2xl font-bold mb-4">🏥 رجسٹرڈ مریض</h1>
    <div id="patientsList" class="space-y-4">
      <!-- مریض یہاں لوڈ ہوں گے -->
    </div>
  </div>

  <script>
    function loadPatients() {
      const list = document.getElementById("patientsList");
      const patients = JSON.parse(localStorage.getItem("registeredPatients") || "[]");

      if (patients.length === 0) {
        list.innerHTML = "<p>🚫 کوئی مریض رجسٹرڈ نہیں ہے۔</p>";
        return;
      }

      patients.forEach((p, index) => {
        const card = document.createElement("div");
        card.className = "bg-white p-4 rounded shadow";

        const tests = p.selectedTests.map(test => `<li>${test.name}</li>`).join("");

        card.innerHTML = `
          <h2 class="text-xl font-semibold">${p.name} (MRN: ${p.mrn})</h2>
          <p><strong>CNIC:</strong> ${p.cnic}</p>
          <p><strong>Sample#:</strong> ${p.sampleNo}</p>
          <p><strong>Gender:</strong> ${p.gender} | <strong>Age:</strong> ${p.age}</p>
          <div class="mt-2">
            <strong>منتخب ٹیسٹ:</strong>
            <ul class="list-disc list-inside">${tests}</ul>
          </div>
        `;

        list.appendChild(card);
      });
    }

    loadPatients();
  </script>
</body>
</html>
